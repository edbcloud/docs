---
#title: "Example - PARTITION BY RANGE, SUBPARTITION BY LIST"
---

<div id="example_partition_by_range_subpartition_by_list" class="registered_link"></div>

# Example - CREATING UNIQUE INDEX on PARTITION TABLE

OR 

# Example - CREATING LIST PARTITIONED UNIQUE INDEX TABLE

For unique-index partitioned tables, you can use the range, list, or hash partitioning method. To create a unique `ROWID` for the partitioned table, you must set the parameter `default_with_rowids = true`.
 
The following example creates a partitioned table `(sales)` using the `PARTITION BY LIST` clause. The `sales` table stores information in three partitions (`europe, asia`, and `americas`).

```text

edb=# SET default_with_rowids to TRUE;
SET

CREATE TABLE sales
(
  dept_no     number,
  part_no     varchar2,
  country     varchar2(20),
  date        date,
  amount      number
)
PARTITION BY LIST(country)
(
  PARTITION europe VALUES('FRANCE', 'ITALY'),
  PARTITION asia VALUES('INDIA', 'PAKISTAN'),
  PARTITION americas VALUES('US', 'CANADA')
);
```

The table is partitioned by the value specified in the `country` column.

```text
edb=# SELECT partition_name, high_value from ALL_TAB_PARTITIONS;
 partition_name |     high_value      
----------------+---------------------
 EUROPE         | 'FRANCE', 'ITALY'
 ASIA           | 'INDIA', 'PAKISTAN'
 AMERICAS       | 'US', 'CANADA'
(3 rows)
```

Querying the contents of the `sales` table confirms that the unique index is created for the partitioned table.

```text
edb=# SELECT oid, relname, relhasindex from pg_class where relname='sales';
  oid  | relname | relhasindex 
-------+---------+-------------
 16390 | sales   | f
(1 row)
```






